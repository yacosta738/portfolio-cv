---
import Section from "@atoms/Section.astro";
import { type Lang, useTranslations } from "@/i18n";
import type Education from "@/resume/education/education.model";

// Props interface
interface Props {
	education: Education[];
}

const { education } = Astro.props as Props;
const currentLocale = Astro.params.lang as Lang;
const t = useTranslations(currentLocale);
---

<Section title={t('education')}>
  <ul class="flex flex-col gap-8">
    {
      education.map(({ institution, startDate, endDate, area }) => {
        const startYear = startDate.getFullYear()
        const endYear = endDate ? endDate.getFullYear() : "Actual"
        const years = `${startYear} - ${endYear}`

        return (
          <li>
            <article>
              <header class="flex justify-between items-start mb-1">
                <div>
                  <h3 class="font-medium text-gray-900 dark:text-gray-100">{institution}</h3>
                </div>
                <div class="sm:text-right">
                  <time datetime={startDate.toISOString()} class="text-gray-600 dark:text-gray-300 text-sm tabular-nums whitespace-nowrap">{startYear}</time>
                  <span aria-hidden="true" class="mx-1">â€“</span>
                  {endDate ? (
                    <time datetime={endDate.toISOString()} class="text-gray-600 dark:text-gray-300 text-sm tabular-nums whitespace-nowrap">{endYear}</time>
                  ) : (
                    <time class="text-gray-600 dark:text-gray-300 text-sm tabular-nums whitespace-nowrap">{t('present') ?? 'Present'}</time>
                  )}
                </div>
              </header>

              <footer>
                <p class="text-gray-800 dark:text-gray-200">{area}</p>
              </footer>
            </article>
          </li>
        )
      })
    }
  </ul>
</Section>


