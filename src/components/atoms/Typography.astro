---
import { cn } from "@/lib/utils";

export interface Props {
	as?: "h1" | "h2" | "h3" | "h4" | "p" | "span" | "time";
	variant?: "title" | "subtitle" | "body" | "small" | "muted" | "date";
	class?: string;
	withMargin?: boolean;
}

type Variant = NonNullable<Props["variant"]>;

const {
	as: Element = "p",
	variant = "body",
	class: className,
	withMargin = true,
	...rest
} = Astro.props as Props;

const variantStyles: Record<Variant, string> = {
	title: "text-4xl font-normal text-gray-900 my-4",
	subtitle: "text-lg font-medium text-gray-700 my-6",
	body: "text-sm leading-6 text-gray-600",
	small: "text-xs leading-5 text-gray-600",
	muted: "text-sm text-gray-500",
	date: "text-sm text-gray-600 min-w-[102px] cursor-default",
};

const classes = cn(
	"my-2 last:mb-0",
	variantStyles[variant as Variant],
	className,
);
---

<Element class={classes} {...rest}>
	<slot />
</Element>
